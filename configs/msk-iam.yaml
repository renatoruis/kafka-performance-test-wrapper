# Kafka Performance Test Configuration - AWS MSK with IAM
kafka:
  bootstrap_servers: "b-1.XXX.amazonaws.com:9098,b-2.XXX.amazonaws.com:9098"

docker:
  # Using 7.8.0+ for Java 17 support (required by MSK IAM Auth JAR 2.3.5)
  kafka_image: "confluentinc/cp-kafka:7.8.0"

# MSK IAM Authentication
msk_iam:
  enabled: true
  region: "us-east-1"
  
  # Option 1: Use assume-role (cross-account or specific role)
  role_arn: "arn:aws:iam::XXX:role/XXX"
  session_name: "msk-perf-test"
  
  # Option 2: Use EC2 instance role (leave role_arn empty/commented)
  # When running on EC2 with instance role, boto3 auto-detects credentials
  # role_arn: ""
  
  # Option 3: Use AWS CLI profile
  # profile: "my-profile"

test:
  name: "msk-performance-test"
  topic: "performance-test-topic"
  target_tps: 1000
  duration_sec: 60
  consumer_timeout_ms: 60000
  
  # num_records auto-calculated: 1000 Ã— 60 = 60,000
  # Uncomment to override:
  # num_records: 100000
  
  payload_bytes: 1024
  
  producer:
    acks: "all"
    compression: "snappy"
    linger_ms: 10
    batch_size: 16384
    client_id: "msk-producer"

report:
  dir: ""
  http_port: 8000
